"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[854],{776:(e,t,a)=>{a.d(t,{Z:()=>o});const r="ErrorMessage_ErrorMessage__yaGRn";var s=a(184);const o=e=>{let{message:t}=e;return(0,s.jsx)("p",{className:r,children:t})}},639:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(154);const s="Loader_Loader__wqo9C";var o=a(184);const c=()=>(0,o.jsx)(r.NB,{visible:!0,height:"80",width:"80",ariaLabel:"color-ring-loading",wrapperStyle:{},wrapperClass:s,colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})},155:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(689),s=a(87);const o="MoviesList_MoviesList__jqSLr",c="MoviesList_MovieLink__diM+a";var n=a(184);const l=e=>{let{movies:t}=e;const a=(0,r.TH)(),l=t.map((e=>{let{id:t,title:r}=e;return(0,n.jsx)("li",{children:(0,n.jsx)(s.rU,{to:"/movies/".concat(t),state:{from:a},className:c,children:r})},t)}));return(0,n.jsx)("ul",{className:o,children:l})}},111:(e,t,a)=>{a.d(t,{Z:()=>o});const r="Section_Section__cTDcW";var s=a(184);const o=e=>{let{children:t}=e;return(0,s.jsx)("section",{className:r,children:t})}},854:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var r=a(791),s=a(87),o=a(111),c=a(639),n=a(776),l=a(155),i=a(202);const h="MoviesSearch_MoviesSearchForm__FdBHH",u="MoviesSearch_MoviesSearchInput__VmPGY",d="MoviesSearch_MoviesSearchButton__SkAyb",m="MoviesSearch_MoviesSearchButtonIcon__GzRrf";var v=a(184);const g=e=>{let{onSubmit:t}=e;const[a,s]=(0,r.useState)("");return(0,v.jsxs)("form",{onSubmit:e=>{e.preventDefault(),""!==a.trim()?(t(a),s("")):alert("Please fill out this field")},className:h,children:[(0,v.jsx)("input",{className:u,type:"text",name:"search",value:a,autoComplete:"off",autoFocus:!0,placeholder:"Search movies by title",onChange:e=>{let{target:t}=e;s(t.value.toLowerCase())}}),(0,v.jsx)("button",{type:"submit",className:d,children:(0,v.jsx)(i.U41,{className:m})})]})};var _=a(697);const S=()=>{const[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(null),[h,u]=(0,s.lr)(),d=h.get("query");(0,r.useEffect)((()=>{if(!d)return;i("pending");(async()=>{try{const{data:e}=await(0,_.P0)(d);t(e.results),i("resolved")}catch(e){console.log(e.message),i("rejected")}})()}),[d]);return(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(g,{onSubmit:e=>{u({query:e}),t([])}}),"pending"===a&&(0,v.jsx)(c.Z,{}),"rejected"===a&&(0,v.jsx)(n.Z,{message:"An error occured, please try again later"}),"resolved"===a&&!e.length&&(0,v.jsx)(n.Z,{message:"Sorry, no results for ".concat(d,". Please, enter a valid title.")}),"resolved"===a&&e.length>0&&(0,v.jsx)(l.Z,{movies:e})]})}},697:(e,t,a)=>{a.d(t,{Bt:()=>l,P0:()=>o,Tg:()=>s,h_:()=>c,y:()=>n});const r=a(294).Z.create({baseURL:"https://api.themoviedb.org/3",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhNWE5MzAyYWUzMmFjNmZhNzViYzA1MDhlNGM3NGMwYiIsInN1YiI6IjYzM2ZiNzc3YjRhNTQzMDA3ZGE0MzA3ZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vzJQ3wYIlY6xqrP8aWnr_LR0dOLBnKjHBDyrh1KCV0"}}),s=()=>r.get("/trending/movie/day?language=en-US").then((e=>e)).catch((e=>console.error(e))),o=e=>r.get("search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=1")).then((e=>e)).catch((e=>console.error(e))),c=e=>r.get("movie/".concat(e,"?language=en-US")).then((e=>e)).catch((e=>console.error(e))),n=e=>r.get("movie/".concat(e,"/credits?language=en-US")).then((e=>e)).catch((e=>console.error(e))),l=e=>r.get("movie/".concat(e,"/reviews?language=en-US&page=1")).then((e=>e)).catch((e=>console.error(e)))}}]);
//# sourceMappingURL=854.32b6d2e1.chunk.js.map
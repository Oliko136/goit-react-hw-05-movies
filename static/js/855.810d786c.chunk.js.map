{"version":3,"file":"static/js/855.810d786c.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/ErrorMessage/ErrorMessage.module.css?d773","components/ErrorMessage/ErrorMessage.jsx","webpack://react-homework-template/./src/components/Section/Section.module.css?dbe8","components/Section/Section.jsx","webpack://react-homework-template/./src/components/MovieInfoCard/MovieInfoCard.module.css?6f3b","components/MovieInfoCard/MovieInfoCard.jsx","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/movie-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"ErrorMessage\":\"ErrorMessage_ErrorMessage__yaGRn\"};","import PropTypes from 'prop-types';\nimport styles from './ErrorMessage.module.css';\n\nconst ErrorMessage = ({ message }) => {\n    return (\n        <p className={styles.ErrorMessage}>{message}</p>\n    )\n}\n\nErrorMessage.propTypes = {\n    message: PropTypes.string.isRequired\n}\n\nexport default ErrorMessage;","// extracted by mini-css-extract-plugin\nexport default {\"Section\":\"Section_Section__cTDcW\"};","import PropTypes from 'prop-types';\nimport styles from './Section.module.css';\n\nconst Section = ({ children }) => {\n    return (\n        <section className={styles.Section}>\n            {children}\n        </section>\n    )\n}\n\nSection.propTypes = {\n    children: PropTypes.node\n}\n\nexport default Section;","// extracted by mini-css-extract-plugin\nexport default {\"MovieInfoCard\":\"MovieInfoCard_MovieInfoCard__eV674\",\"MovieTitle\":\"MovieInfoCard_MovieTitle__Xb3QO\",\"UserScore\":\"MovieInfoCard_UserScore__rTEAH\",\"Overview\":\"MovieInfoCard_Overview__9kHde\",\"Subtitle\":\"MovieInfoCard_Subtitle__m11ut\",\"Tagline\":\"MovieInfoCard_Tagline__xKZ4P\",\"GenreList\":\"MovieInfoCard_GenreList__jFIYF\"};","import PropTypes from 'prop-types';\nimport styles from './MovieInfoCard.module.css';\n\nconst MovieInfoCard = ({ info }) => {\n    const { poster_path, title, release_date, vote_average, tagline, overview, genres } = info;\n\n    const defaultImg = 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n   \n    const releaseYear = release_date.slice(0, 4);\n    const userScore = Math.round(vote_average * 10);\n\n    const genreItem = genres.map(({ id, name }) => <li key={id}>{name}</li>);\n    return (\n        <div className={styles.MovieInfoCard}>\n            <img\n                src={poster_path ? `https://image.tmdb.org/t/p/w300/${poster_path}` : defaultImg}\n                alt='Movie Poster' width={250} />\n            \n            <div className={styles.MovieInfo}>\n                <h1 className={styles.MovieTitle}>{title} ({releaseYear})</h1>\n                <p className={styles.UserScore}>User Score: {userScore}%</p>\n\n                <h2 className={styles.Subtitle}>Overview</h2>\n                <p className={styles.Tagline}>{tagline}</p>\n                <p className={styles.Overview}>{overview}</p>\n\n                <h2 className={styles.Subtitle}>Genres</h2>\n                {genres?.length ?\n                    <ul className={styles.GenreList}>{genreItem}</ul> :\n                    <p>No genres available for this movie</p>}\n            </div>\n        </div>\n    )\n}\n\nMovieInfoCard.propTypes = {\n    info: PropTypes.shape({\n        poster_path: PropTypes.string,\n        title: PropTypes.string.isRequired,\n        release_date: PropTypes.string,\n        vote_average: PropTypes.number,\n        tagline: PropTypes.string,\n        overview: PropTypes.string,\n        genres: PropTypes.array,\n\n    }).isRequired\n}\n\nexport default MovieInfoCard;","// extracted by mini-css-extract-plugin\nexport default {\"Backlink\":\"MovieDetails_Backlink__oukmh\",\"SubpageList\":\"MovieDetails_SubpageList__7LuVk\",\"SubpageLink\":\"MovieDetails_SubpageLink__EW2xc\"};","import { useState, useEffect, useRef } from \"react\";\nimport { Link, NavLink, Outlet, useLocation, useParams } from \"react-router-dom\";\nimport Section from \"components/Section/Section\";\nimport Loader from \"components/Loader/Loader\";\nimport ErrorMessage from \"components/ErrorMessage/ErrorMessage\";\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\nimport MovieInfoCard from \"components/MovieInfoCard/MovieInfoCard\";\nimport { fetchById } from \"services/movie-api\";\nimport styles from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n    const [details, setDetails] = useState({});\n    const [status, setStatus] = useState(null);\n    \n    const { movieId } = useParams();\n\n    const location = useLocation();\n    const backLink = useRef(location.state?.from ?? '/');\n\n    useEffect(() => {\n        if (!movieId) {\n            return\n        }\n\n        setStatus('pending');\n\n        const getDetails = async () => {\n            try {\n            const { data } = await fetchById(movieId);\n                setDetails(data);\n                setStatus('resolved');\n            }\n            catch (error) {\n                console.log(error.message);\n                setStatus('rejected');\n            }\n        }\n\n        getDetails();\n    }, [movieId])\n\n\n    return (\n        <Section>\n            <Link to={backLink.current} className={styles.Backlink}>\n                <IoMdArrowRoundBack />\n                Go back\n            </Link>\n            {status === 'pending' && <Loader />}\n            {status === 'rejected' && <ErrorMessage message={'An error occured, please try again later'}/>}\n            {status === 'resolved' && <MovieInfoCard info={details} />}\n            \n            <ul className={styles.SubpageList}>\n                <li>\n                    <NavLink to='cast' className={styles.SubpageLink}>Cast</NavLink>\n                </li>\n                <li>\n                    <NavLink to='reviews' className={styles.SubpageLink}>Reviews</NavLink>\n                </li>\n            </ul>\n    \n            <Outlet />\n        </Section>\n    )\n}\n\nexport default MovieDetails;","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  headers: {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhNWE5MzAyYWUzMmFjNmZhNzViYzA1MDhlNGM3NGMwYiIsInN1YiI6IjYzM2ZiNzc3YjRhNTQzMDA3ZGE0MzA3ZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vzJQ3wYIlY6xqrP8aWnr_LR0dOLBnKjHBDyrh1KCV0'}\n});\n\nexport const fetchTrending = () => {\n  return instance.get(`/trending/movie/day?language=en-US`)\n    .then(response => response)\n    .catch(err => console.error(err));\n}\n\nexport const fetchByTitle = (title) => {\n  return instance.get(`search/movie?query=${title}&include_adult=false&language=en-US&page=1`)\n    .then(response => response)\n    .catch(err => console.error(err));\n}\n\nexport const fetchById = (id) => {\n  return instance.get(`movie/${id}?language=en-US`)\n    .then(response => response)\n    .catch(err => console.error(err));\n}\n\nexport const fetchCast = (id) => {\n  return instance.get(`movie/${id}/credits?language=en-US`)\n    .then(response => response)\n    .catch(err => console.error(err));\n}\n\nexport const fetchReviews = (id) => {\n  return instance.get(`movie/${id}/reviews?language=en-US&page=1`)\n    .then(response => response)\n    .catch(err => console.error(err));\n}\n\n\n\n\n  "],"names":["_ref","message","_jsx","className","styles","children","info","poster_path","title","release_date","vote_average","tagline","overview","genres","releaseYear","slice","userScore","Math","round","genreItem","map","_ref2","id","name","_jsxs","src","concat","alt","width","length","MovieDetails","_location$state$from","_location$state","details","setDetails","useState","status","setStatus","movieId","useParams","location","useLocation","backLink","useRef","state","from","useEffect","async","data","fetchById","error","console","log","getDetails","Section","Link","to","current","IoMdArrowRoundBack","Loader","ErrorMessage","MovieInfoCard","NavLink","Outlet","instance","axios","baseURL","headers","fetchTrending","get","then","response","catch","err","fetchByTitle","fetchCast","fetchReviews"],"sourceRoot":""}
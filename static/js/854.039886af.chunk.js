"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[854],{776:(e,t,s)=>{s.d(t,{Z:()=>o});const r="ErrorMessage_ErrorMessage__yaGRn";var a=s(184);const o=e=>{let{message:t}=e;return(0,a.jsx)("p",{className:r,children:t})}},155:(e,t,s)=>{s.d(t,{Z:()=>l});var r=s(689),a=s(87);const o="MoviesList_MoviesList__jqSLr",c="MoviesList_MovieLink__diM+a";var n=s(184);const l=e=>{let{movies:t}=e;const s=(0,r.TH)(),l=t.map((e=>{let{id:t,title:r}=e;return(0,n.jsx)("li",{children:(0,n.jsx)(a.rU,{to:"/movies/".concat(t),state:{from:s},className:c,children:r})},t)}));return(0,n.jsx)("ul",{className:o,children:l})}},111:(e,t,s)=>{s.d(t,{Z:()=>o});const r="Section_Section__cTDcW";var a=s(184);const o=e=>{let{children:t}=e;return(0,a.jsx)("section",{className:r,children:t})}},854:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var r=s(791),a=s(87),o=s(111),c=s(784),n=s(776),l=s(155),i=s(202);const h="MoviesSearch_MoviesSearchForm__FdBHH",u="MoviesSearch_MoviesSearchInput__VmPGY",m="MoviesSearch_MoviesSearchButton__SkAyb",d="MoviesSearch_MoviesSearchButtonIcon__GzRrf";var v=s(184);const g=e=>{let{onSubmit:t}=e;const[s,a]=(0,r.useState)("");return(0,v.jsxs)("form",{onSubmit:e=>{e.preventDefault(),""!==s.trim()?(t(s),a("")):alert("Please fill out this field")},className:h,children:[(0,v.jsx)("input",{className:u,type:"text",name:"search",value:s,autoComplete:"off",autoFocus:!0,placeholder:"Search movies by title",onChange:e=>{let{target:t}=e;a(t.value.toLowerCase())}}),(0,v.jsx)("button",{type:"submit",className:m,children:(0,v.jsx)(i.U41,{className:d})})]})};var _=s(697);const S=()=>{const[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(null),[h,u]=(0,a.lr)(),m=h.get("query");(0,r.useEffect)((()=>{if(!m)return;i("pending");(async()=>{try{const{data:e}=await(0,_.P0)(m);t(e.results),i("resolved")}catch(e){console.log(e.message),i("rejected")}})()}),[m]);return(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(g,{onSubmit:e=>{u({query:e}),t([])}}),"pending"===s&&(0,v.jsx)(c.Z,{}),"rejected"===s&&(0,v.jsx)(n.Z,{message:"An error occured, please try again later"}),"resolved"===s&&!e.length&&(0,v.jsx)(n.Z,{message:"Sorry, no results for ".concat(m,". Please, enter a valid title.")}),"resolved"===s&&e.length>0&&(0,v.jsx)(l.Z,{movies:e})]})}},697:(e,t,s)=>{s.d(t,{Bt:()=>l,P0:()=>o,Tg:()=>a,h_:()=>c,y:()=>n});const r=s(294).Z.create({baseURL:"https://api.themoviedb.org/3",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhNWE5MzAyYWUzMmFjNmZhNzViYzA1MDhlNGM3NGMwYiIsInN1YiI6IjYzM2ZiNzc3YjRhNTQzMDA3ZGE0MzA3ZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vzJQ3wYIlY6xqrP8aWnr_LR0dOLBnKjHBDyrh1KCV0"}}),a=()=>r.get("/trending/movie/day?language=en-US").then((e=>e)).catch((e=>console.error(e))),o=e=>r.get("search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=1")).then((e=>e)).catch((e=>console.error(e))),c=e=>r.get("movie/".concat(e,"?language=en-US")).then((e=>e)).catch((e=>console.error(e))),n=e=>r.get("movie/".concat(e,"/credits?language=en-US")).then((e=>e)).catch((e=>console.error(e))),l=e=>r.get("movie/".concat(e,"/reviews?language=en-US&page=1")).then((e=>e)).catch((e=>console.error(e)))}}]);
//# sourceMappingURL=854.039886af.chunk.js.map
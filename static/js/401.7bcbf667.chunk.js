"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[401],{505:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(184);const n=e=>{let{message:t}=e;return(0,a.jsx)("p",{children:t})}},854:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(154),n=r(184);const o=()=>(0,n.jsx)(a.NB,{visible:!0,height:"80",width:"80",ariaLabel:"color-ring-loading",wrapperStyle:{},wrapperClass:"color-ring-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})},368:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(689),n=r(87),o=r(184);const s=e=>{let{movies:t}=e;const r=(0,a.TH)(),s=t.map((e=>{let{id:t,title:a}=e;return(0,o.jsx)("li",{children:(0,o.jsx)(n.rU,{to:"/movies/".concat(t),state:{from:r},children:a})},t)}));return(0,o.jsx)("ul",{children:s})}},401:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var a=r(791),n=r(87),o=r(854),s=r(505),c=r(368),l=r(184);const i=e=>{let{onSubmit:t}=e;const[r,n]=(0,a.useState)("");return(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),""!==r.trim()?(t(r),n("")):alert("Please fill out this field")},children:[(0,l.jsx)("input",{type:"text",name:"search",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search movies by title",onChange:e=>{let{target:t}=e;n(t.value.toLowerCase())}}),(0,l.jsx)("button",{type:"submit",children:"Search"})]})};var h=r(697);const u=()=>{const[e,t]=(0,a.useState)([]),[r,u]=(0,a.useState)(null),[d,g]=(0,n.lr)(),m=d.get("query");(0,a.useEffect)((()=>{if(!m)return;u("pending");(async()=>{try{const{data:e}=await(0,h.P0)(m);t(e.results),u("resolved")}catch(e){console.log(e.message),u("rejected")}})()}),[m]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i,{onSubmit:e=>{g({query:e}),t([])}}),"pending"===r&&(0,l.jsx)(o.Z,{}),"rejected"===r&&(0,l.jsx)(s.Z,{message:"An error occured, please try again later"}),"resolved"===r&&!e.length&&(0,l.jsx)(s.Z,{message:"Sorry, no results for ".concat(m,". Please, enter a valid title.")}),"resolved"===r&&e.length>0&&(0,l.jsx)(c.Z,{movies:e})]})}},697:(e,t,r)=>{r.d(t,{Bt:()=>l,P0:()=>o,Tg:()=>n,h_:()=>s,y:()=>c});const a=r(294).Z.create({baseURL:"https://api.themoviedb.org/3",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhNWE5MzAyYWUzMmFjNmZhNzViYzA1MDhlNGM3NGMwYiIsInN1YiI6IjYzM2ZiNzc3YjRhNTQzMDA3ZGE0MzA3ZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9vzJQ3wYIlY6xqrP8aWnr_LR0dOLBnKjHBDyrh1KCV0"}}),n=()=>a.get("/trending/movie/day?language=en-US").then((e=>e)).catch((e=>console.error(e))),o=e=>a.get("search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=1")).then((e=>e)).catch((e=>console.error(e))),s=e=>a.get("movie/".concat(e,"?language=en-US")).then((e=>e)).catch((e=>console.error(e))),c=e=>a.get("movie/".concat(e,"/credits?language=en-US")).then((e=>e)).catch((e=>console.error(e))),l=e=>a.get("movie/".concat(e,"/reviews?language=en-US&page=1")).then((e=>e)).catch((e=>console.error(e)))}}]);
//# sourceMappingURL=401.7bcbf667.chunk.js.map